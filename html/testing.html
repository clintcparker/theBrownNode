<!DOCTYPE html>
<html>
<head>
<title>Tests</title>
</head>
<body>
  <div id="testsDiv"></div>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/testing.js"></script>
<script type="text/javascript" charset="utf-8">
$(function() {

    //testingObj.runTests();
    testingObj.setDefaults({
        url         : "/users/search",
        useConsole  :false,
        isAjax      :true
    });
    
    testingObj.addToTests([
        {
            desc: "two users in system",
            url: "/users",  
            testFunction: function(data) {
                return (data.length == 2);
            }
        },
        {
            desc: "doug funny in system",
            data: {
                        firstName: "doug",
                        lastName: "funny"
                    },
            method: "post",
            testFunction: function(data) {
                return (data.length == 1);
            }
        },
        {
            desc: "fred flintstone in system",
            data: {
                        firstName: "fred",
                        lastName: "flintstone"
                    },
            method: "post",
            testFunction: function(data) {
                return (data.length == 1);
            }
        },
        {
            desc: "add bugs bunny to system",
            url: "/users/add",
            data: {
                        firstName: "bugs",
                        lastName: "bunny"
                    },
            method: "post",
            testFunction: function(data) {
                return (data == {
                        firstName: "bugs",
                        lastName: "bunny"
                    });
            }    
        },
        {
            desc: "bugs bunny in system",
            data: {
                        firstName: "bugs",
                        lastName: "bunny"
                    },
            method: "post",
            testFunction: function(data) {
                return (data.length == 1);
            }   
        },
        {
            desc: "2+3 = 5",
            testFunction : function () { return (add(2,3) == 5); },
            isAjax: false
        }
    ]);
    
    testingObj.runTests();
    
});

function add(x,y) {
    return (x+y);    
}
   
</script>
</body>
</html>